# Отчёт о домашнем задании

## Реализация функционала

Проект разбит на 4 слоя
- Domian
- Infrastructure
- Application
- Presentation

Домен ничего ни о ком не знает, инфраструктура знает только о домене, приложение знает об инфраструктуре и домене, а презентационный слой знает обо всех, таким образом нижние слои не зависят от верхних, также всё взаимодействие(кроме домена) происходит через интерфейсы.

### Домен

Внутри домена реализованы доменные объекты, указанные в задании, а именно Animal, Enclosure, FeedingSchedule. Также были добавлены Food, который отвечает за тип еды и то, сколько её осталось, а также доменные объекты SexType, AnimalFoodType, AnimalHabitatType, который работают, как енумы.

### Инфраструктура

В инфраструктурном слое находится in-memory база данных, реализованная через интерфейс JpaRepository и базу данных h2. В базе хранятся таблицы доменных объектов.

### Приложение

Внутри данного слоя есть события, указанные в ТЗ и их обработчики, которые при возникновении события логируют об этом в консоль.

Также, реализованы сервисы:
- AnimalService - работает с животными, на данном этапе реализовано лечени
- AnimalTransferService - занимается перемещениями животных
- EnclosureService - работает с вольерами, на данном этапе может почитсить вольер
- EntityService - занимается созданием и удалением новых животных, типов еды и вольеров
- FeedingOrganisationService - занимается составлением расписания кормления, добавлением еды, а также кормлением по таймеру
- StatisticsService - на данном этапе может посмотреть все доменные объекты, а также доменный объект по айдишнику

### Презентационный слой

В данном слое реализованы RestAPI контроллеры, с помощью которых можно управлять приложением. Предусмотрена работа через Swagger.

## Концепции Domain Driven Design и Clean Architecture

Как было сказано ранее, все слои зависят только внутрь, зависят через интерфейсы, а также вся логика находится в Domain и Application слоях, что характерно для Clean Architecture.

Все бизнес правила находятся в Domain объектах, а также существуют value-objects, значит соблюдаются принципы DDD.

## Как запускать

```bash
mvn clean install
mvn spring-boot:run
```

в браузере http://localhost:8080/swagger-ui/index.html

В дату рождения животного нужно втсавлять дату в виде 2025-04-21T14:30:00+03:00, где +03:00 это время по Москве. Время, если без даты, указывать в виде 14:30:00.
